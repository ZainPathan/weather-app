(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{230:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"updateCurrentCard",(function(){return N})),a.d(r,"updateMaxCardCount",(function(){return k}));var n={};a.r(n),a.d(n,"getWeatherDataRequestStart",(function(){return L})),a.d(n,"getWeatherDataRequestFail",(function(){return R})),a.d(n,"getWeatherDataRequestSuccess",(function(){return W})),a.d(n,"getWeatherData",(function(){return _}));var i={};a.r(i),a.d(i,"updateTemperatureUnit",(function(){return q}));var c=a(0),u=a(29),o=a.n(u),d=(a(230),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,436)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),i(e),c(e)}))}),s=a(184),l=a(185),h=a(81),m=a(186),p=a(217),j=a(48),f=a(112),b=a(20),x="weather/get/REQUEST_START",C="weather/get/REQUEST_FAIL",O="weather/get/REQUEST_SUCCESS",g={loadingState:"UNINITIALIZED",weatherData:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(b.a)(Object(b.a)({},e),{},{loadingState:"LOADING"});case C:return Object(b.a)(Object(b.a)({},e),{},{loadingState:"ERROR"});case O:return Object(b.a)(Object(b.a)({},e),{},{loadingState:"LOADED",weatherData:null===t||void 0===t?void 0:t.payload});default:return e}},w=a(215),D=a(83),y=a(190),I=a.n(y),Y=function(e){return function(t){return t((a={url:e,method:"GET"},function(e){return new Promise((function(e,t){I()(Object(b.a)(Object(b.a)({},a),{},{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}})).then((function(t){e(t)})).catch((function(e){t(e)}))}))}));var a}},T=a(50),M=a.n(T),U="update/current/card",S="update/max/card/count",N=function(e){return{type:U,payload:e}},k=function(e){return{type:S,payload:e}},E=function(e){return parseInt(e)-273},F=function(e){return 9*e/5+32},A=function(e){return F(E(e))},L=function(){return{type:x}},R=function(){return{type:C}},W=function(e){return{type:O,payload:e}},_=function(){return function(e){return new Promise((function(t,a){e(L()),e(Y("weather/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40")).then((function(t){var a={};200===t.status&&(a=t.data.list.reduce((function(e,t,a,r){var n=M()(t.dt_txt,"YYYY-MM-DD HH:mm:ss",!0),i=n.format("DD-MM-YYYY"),c=n.format("HH:mm"),u=n.format("D MMM YY");return e[i]?e[i]={list:Object(b.a)(Object(b.a)({},e[i].list),{},Object(D.a)({},c,Object(b.a)(Object(b.a)({},t.main),{},{time:c}))),segments:[].concat(Object(w.a)(e[i].segments),[{temperatureInCelsius:E(t.main.temp),temperatureInFahrenheit:A(t.main.temp),time:c}]),temperature:e[i].temperature+=t.main.temp,minTemperature:e[i].minTemperature+=t.main.temp_min,maxTemperature:e[i].maxTemperature+=t.main.temp_max,count:e[i].count+=1,date:i,dateString:u}:e[i]={list:Object(D.a)({},c,Object(b.a)(Object(b.a)({},t.main),{},{time:c})),segments:[{temperatureInCelsius:E(t.main.temp),temperatureInFahrenheit:A(t.main.temp),time:c}].concat(),temperature:t.main.temp,minTemperature:t.main.temp_min,maxTemperature:t.main.temp_max,count:1,date:i,dateString:u},e}),{}));e(k(Object.keys(a).length)),e(W(a))})).catch((function(t){e(R())}))}))}},G="update/temperatureUnit",P={temperatureUnit:"fahrenheit"},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(b.a)(Object(b.a)({},e),{},{temperatureUnit:(null===t||void 0===t?void 0:t.payload)||"fahrenheit"});default:return e}},q=function(e){return{type:G,payload:e}},z={currentCardDate:M()().format("YYYY-MM-DD"),currentCardIndex:0,maxCardCount:0},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(b.a)(Object(b.a)({},e),{},{currentCardDate:t.payload.currentCardDate||M()().format("DD-MM-YYYY"),currentCardIndex:t.payload.currentCardIndex||0});case S:return Object(b.a)(Object(b.a)({},e),{},{currentCardDate:M()().format("DD-MM-YYYY"),maxCardCount:(null===t||void 0===t?void 0:t.payload)||0});default:return e}},K=a(417),Q=a(15),J=a(433),V=function(){return Object(J.a)({mainContainer:{padding:20,flexGrow:1},barGraph:{display:"inline-flex",justifyContent:"center",border:"1px solid black",height:250,margin:"0 15px 0 15px"},errorMessage:{textAlign:"center"}})},Z=a(430),X=a(416),$=a(414),ee=Object($.a)({backdrop:{zIndex:9999,color:"#fff"},loadingText:{marginLeft:10}}),te=a(8),ae=function(e){var t=ee(),a=e.showLoader;return Object(te.jsx)("div",{children:Object(te.jsxs)(Z.a,{className:t.backdrop,open:a,children:[Object(te.jsx)(X.a,{color:"inherit"}),Object(te.jsx)("div",{className:t.loadingText,children:"Loading..."})]})})},re=a(431),ne=a(432),ie=a(418),ce=a(428),ue=Object($.a)({temperatureSelection:{display:"inline-flex",justifyContent:"center","& .MuiFormControl-root":{width:"100%","& .MuiFormGroup-root":{justifyContent:"space-around"}}}}),oe=function(e){var t=ue(e),a=e.temperatureUnit,r=e.handleTemperatureUnitChange;return Object(te.jsx)(K.a,{item:!0,xs:12,className:t.temperatureSelection,children:Object(te.jsx)(re.a,{children:Object(te.jsxs)(ne.a,{row:!0,"aria-label":"temperature-selection",name:"temperature-selection",defaultValue:"celsius",value:a,onChange:function(e,t){r(t)},children:[Object(te.jsx)(ie.a,{value:"celsius",control:Object(te.jsx)(ce.a,{"data-testid":"celsius-radio-button",color:"primary"}),label:"Celsius"}),Object(te.jsx)(ie.a,{value:"fahrenheit",control:Object(te.jsx)(ce.a,{"data-testid":"fahrenheit-radio-button",color:"secondary"}),label:"Fahrenheit"})]})})})},de=Object($.a)({weatherCards:{display:"inline-flex",flexWrap:"nowrap",flexDirection:"row",justifyContent:"space-evenly",alignItems:"flex-start",marginTop:20,marginBottom:20}}),se=a(434),le=a(419),he=a(390),me=a(11),pe=Object($.a)({weatherCard:{width:225,height:175,flex:"1 0 auto",margin:"0 10px 0 10px"},selectedWeatherCard:{border:"5px solid red"}}),je=function(e){var t=e.currentCardIndex,a=e.weatherDate,r=e.temperatureDetails,n=e.index,i=pe();return Object(te.jsx)(se.a,{variant:"outlined",className:t===n?Object(me.a)(i.weatherCard,i.selectedWeatherCard):i.weatherCard,children:Object(te.jsxs)(le.a,{children:[Object(te.jsxs)(he.a,{variant:"h5",component:"h2",children:["Temperature:\xa0",r]}),Object(te.jsx)("br",{}),Object(te.jsxs)(he.a,{variant:"h5",component:"h2",children:["Date: ",a]})]})})},fe=a(24),be=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},xe=function(){var e=Object(c.useState)(be),t=Object(fe.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(){r(be())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a},Ce=function(e){var t=e.weatherData,a=e.temperatureUnit,r=e.currentCardIndex,n=de(),i=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e<600?[t]:e<960?0===t?[t,t+1]:t===a-1?[t-1,t]:[t,t+1]:0===t?[t,t+1,t+2]:t===a-1?[t-2,t-1,t]:[t-1,t,t+1]}(xe().width,r,t?Object.keys(t).length:0),c=t&&Object.keys(t).map((function(e,n){var c=(t[e].temperature/t[e].count).toFixed(2),u=E(c),o=F(u),d=t[e].dateString,s="celsius"===a?"".concat(u).concat("\xb0C"):"".concat(o).concat("\xb0F");return i.includes(n)?Object(te.jsx)(je,{currentCardIndex:r,weatherDate:d,temperatureDetails:s,index:n},e):null}));return Object(te.jsx)(K.a,{item:!0,xs:12,className:n.weatherCards,children:c})},Oe=a(420),ge=a(421),ve=Object($.a)({arrowNavigation:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between","& .MuiSvgIcon-root":{width:"1.5em",height:"1.5em",cursor:"pointer",color:"#3f51b5"}},backArrow:{justifyContent:"flex-start",order:1},forwardArrow:{justifyContent:"flex-end",order:2},hideIcon:{visibility:"hidden"},disableArrow:{cursor:"not-allowed !important",pointerEvents:"all"}}),we=function(e){var t=ve(e),a=function(t,a){switch(a){case"back":if(0===e.currentCardIndex)return t.preventDefault(),null;break;case"forward":if(e.currentCardIndex===e.maxCardCount-1)return t.preventDefault(),null}e.handleNavigation(a)};return Object(te.jsxs)(K.a,{item:!0,xs:12,className:t.arrowNavigation,children:[Object(te.jsx)(Oe.a,{"data-testid":"back-arrow",className:0===e.currentCardIndex?t.hideIcon:"",onClick:function(e){return a(e,"back")}}),Object(te.jsx)(ge.a,{"data-testid":"forward-arrow",className:e.currentCardIndex===e.maxCardCount-1?t.hideIcon:"",onClick:function(e){return a(e,"forward")}})]})},De=a(422),ye=a(423),Ie=a(427),Ye=a(210),Te=a(211),Me=a(94),Ue=a(91),Se=a(216),Ne=function(e){var t=e.weatherData,a=e.currentCardDate,r=e.temperatureUnit,n=t&&t[a].segments;return t&&Object(te.jsx)(De.a,{width:"100%",height:"100%",children:Object(te.jsxs)(ye.a,{width:500,height:300,data:n,margin:{top:5,right:30,left:20,bottom:5},children:[Object(te.jsx)(Ie.a,{strokeDasharray:"3 3"}),Object(te.jsx)(Ye.a,{dataKey:"time"}),Object(te.jsx)(Te.a,{}),Object(te.jsx)(Me.a,{}),Object(te.jsx)(Ue.a,{}),"celsius"===r&&Object(te.jsx)(Se.a,{dataKey:"temperatureInCelsius",fill:"#3f50b5"}),"fahrenheit"===r&&Object(te.jsx)(Se.a,{dataKey:"temperatureInFahrenheit",fill:"#f50057"})]})})},ke=function(e,t){var a=M()(e,"DD-MM-YYYY");return t?a.add(1,"d").format("DD-MM-YYYY"):a.subtract(1,"d").format("DD-MM-YYYY")},Ee=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleTemperatureUnitChange=r.handleTemperatureUnitChange.bind(Object(h.a)(r)),r.handleNavigation=r.handleNavigation.bind(Object(h.a)(r)),r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getWeatherData)().then((function(){console.log("Obtained Weather data")}))}},{key:"handleTemperatureUnitChange",value:function(e){(0,this.props.updateTemperatureUnit)(e)}},{key:"handleNavigation",value:function(e){var t=this.props,a=t.currentCardIndex,r=t.currentCardDate,n=t.updateCurrentCard,i="forward"===e?{currentCardIndex:a+1,currentCardDate:ke(r,!0)}:"back"===e?{currentCardIndex:a-1,currentCardDate:ke(r,!1)}:null;i&&n(i)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.weatherData,r=e.loadingState,n=e.temperatureUnit,i=e.currentCardDate,c=e.currentCardIndex,u=e.maxCardCount;return Object(te.jsx)(te.Fragment,{children:"LOADING"===r?Object(te.jsx)(ae,{showLoader:!0}):"ERROR"===r?Object(te.jsx)("h3",{className:t.errorMessage,children:"Error Loading Data. Try again."}):Object(te.jsx)("div",{className:t.mainContainer,children:Object(te.jsxs)(K.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"flex-start",children:[Object(te.jsx)(oe,{temperatureUnit:n,handleTemperatureUnitChange:this.handleTemperatureUnitChange}),Object(te.jsx)(we,{handleNavigation:this.handleNavigation,currentCardIndex:c,maxCardCount:u}),Object(te.jsx)(Ce,{weatherData:a,temperatureUnit:n,currentCardIndex:c}),Object(te.jsx)(K.a,{item:!0,xs:12,className:t.barGraph,children:Object(te.jsx)(Ne,{weatherData:a,currentCardDate:i,temperatureUnit:n})})]})})})}}]),a}(c.Component),Fe=Object(f.b)((function(e){return{loadingState:e.weather.loadingState,weatherData:e.weather.weatherData,temperatureUnit:e.temperature.temperatureUnit,currentCardDate:e.navigation.currentCardDate,currentCardIndex:e.navigation.currentCardIndex,maxCardCount:e.navigation.maxCardCount}}),(function(e){return Object(j.bindActionCreators)({getWeatherData:n.getWeatherData,updateTemperatureUnit:i.updateTemperatureUnit,updateCurrentCard:r.updateCurrentCard},e)}))(Object(Q.a)(V)(Ee)),Ae=a(212),Le=a(213),Re=Object(j.combineReducers)({weather:v,temperature:H,navigation:B}),We=[Ae.a],_e=[j.applyMiddleware.apply(void 0,We)],Ge=Le.composeWithDevTools.apply(void 0,_e),Pe=Object(j.createStore)((function(e,t){return Re(e,t)}),void 0,Ge);o.a.render(Object(te.jsx)(f.a,{store:Pe,children:Object(te.jsx)(Fe,{})}),document.getElementById("root")),d()}},[[389,1,2]]]);
//# sourceMappingURL=main.6663bade.chunk.js.map